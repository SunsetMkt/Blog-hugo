/*
    You can add your own custom styles here.
*/

// 萌娘百科 黑幕 CSS
@import "heimu";

// Lenis
// https://github.com/darkroomengineering/lenis/blob/main/README.md#recommended-css
@import "lenis/dist/lenis";

// animate.css
// https://github.com/animate-css/animate.css
@import "animate.css/animate";

// Noto Color Emoji
@import "NotoColorEmoji"; // COLRv1 for Chromium
@import "NotoColorEmojiSVG"; // color-SVG for Safari

// HarmonyOS Sans SC
@import "HarmonyOSSansSCSplitted/Light";
@import "HarmonyOSSansSCSplitted/Regular";
@import "HarmonyOSSansSCSplitted/Bold";

// JetBrains Mono
@import "JetBrainsMono";

// MiSans L3: GB 18030-2022 实现级别 3
@import "MiSansL3";

// Last Resort
// https://github.com/unicode-org/last-resort-font
@font-face {
    font-family: "Last Resort";
    src:
        local("Last Resort"),
        url("/fonts/LastResort/LastResort-Regular.ttf") format("truetype");
    font-style: normal;
    font-display: swap;
}

// GNU Unifont Glyphs
// https://unifoundry.com/unifont/index.html
@font-face {
    font-family: "Unifont";
    src:
        local("Unifont"),
        url("/fonts/Unifont/unifont-17.0.03.otf") format("opentype");
    font-style: normal;
    font-display: swap;
}
@font-face {
    font-family: "Unifont-JP";
    src:
        local("Unifont-JP"),
        url("/fonts/Unifont/unifont_jp-17.0.03.otf") format("opentype");
    font-style: normal;
    font-display: swap;
}
@font-face {
    font-family: "Unifont Upper";
    src:
        local("Unifont Upper"),
        url("/fonts/Unifont/unifont_upper-17.0.03.otf") format("opentype");
    font-style: normal;
    font-display: swap;
}
@font-face {
    font-family: "Unifont CSUR";
    src:
        local("Unifont CSUR"),
        url("/fonts/Unifont/unifont_csur-17.0.03.otf") format("opentype");
    font-style: normal;
    font-display: swap;
}

// 为部分未配置过渡效果的元素添加过渡效果
aside,
main,
header,
footer {
    transition: all 0.3s ease-in-out;
}

// 强制为 class 内的所有元素添加/覆盖过渡效果
.force-transition-all,
.force-transition-all :is(*) {
    transition: all 0.3s ease-in-out !important;
}

// 打印优化
@media print {
    aside {
        display: none !important;
    }

    .waline-container {
        display: none !important;
    }

    .site-footer {
        display: none !important;
    }

    .article-category {
        display: none !important;
    }

    .article-footer {
        display: none !important;
    }

    .article-content > p {
        margin: 0.5em 0 !important;
    }

    :root {
        --article-font-size: 1.2rem !important;
        --article-line-height: 1.85 !important;
    }

    // Variables
    @import "gutenberg-css/scss/variables";

    // Normalize
    @import "modern-normalize/modern-normalize";

    @import "gutenberg-css/scss/print-reset";
    @import "gutenberg-css/scss/pagination";
    // @import 'gutenberg-css/scss/page';
    @import "gutenberg-css/scss/reformat";
    @import "gutenberg-css/scss/utilities";
    @import "gutenberg-css/scss/themes/modern";
}

:root {
    /* The least resort when the system doesn't support any font */
    --lastresort-font-family:
        "Unifont", "Unifont-JP", "Unifont Upper", "Unifont CSUR", "Last Resort";
    /* Based on theme default */
    --zh-font-family:
        "HarmonyOS Sans SC", "MiSans L3", "PingFang SC", "Hiragino Sans GB",
        "Droid Sans Fallback", "Microsoft YaHei";
    /* This list is from emojipedia.org */
    --emoji-font-family:
        "Noto Color Emoji", "Apple Color Emoji", "Segoe UI Emoji",
        "Android Emoji", "EmojiSymbols", "EmojiOne Mozilla", "Twemoji Mozilla",
        "Segoe UI Symbol", "Noto Color Emoji Compat", "emoji";
    --code-font-family:
        "JetBrains Mono", "Menlo", "Monaco", "Consolas", "Courier New",
        var(--zh-font-family), var(--emoji-font-family), monospace,
        var(--lastresort-font-family);
    --base-font-family:
        "HarmonyOS Sans SC", "Lato", var(--sys-font-family),
        var(--zh-font-family), var(--emoji-font-family), sans-serif,
        var(--lastresort-font-family);
}

.custom-footer-code {
    color: var(--code-text-color);
    background-color: var(--code-background-color);
    padding: 1px 2px;
    border-radius: var(--tag-border-radius);
    font-family: var(--code-font-family);
}
